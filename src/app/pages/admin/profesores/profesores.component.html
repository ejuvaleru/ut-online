<div class="container">

  <h1 class="title is- has-text-centered">Profesores</h1>
  <button class="button is-primary" (click)="isAddingTeacher()">Agregar profesor</button>
  <div class="container" *ngIf="isEditing || isAdding">


    <h1 class="title" *ngIf="isAdding">Agregar profesor</h1>
    <h1 class="title" *ngIf="isEditing">Editar profesor</h1>
    <!-- INICIA FORMULARIO -->
    <form [formGroup]="formProfesor">
      <div class="field">
        <label class="label">Nombre</label>
        <div class="control">
          <input class="input" type="text" placeholder="Fernando Alonso" formControlName="nombre">
        </div>
      </div>

      <div class="field">
        <label class="label">Matrícula</label>
        <div class="control">
          <input class="input" type="text" placeholder="55554444" formControlName="matricula">
        </div>
      </div>

      <button class="button is-primary is-fullwidth" (click)="onSubmit()" [disabled]="!formProfesor.valid"
        *ngIf="isAdding">Agregar</button>

      <button class="button is-primary is-fullwidth" (click)="onUpdate()" [disabled]="!formProfesor.valid"
        *ngIf="isEditing">Actualizar</button>
      <br>
      <button class="button is-danger is-fullwidth" (click)="isAddingTeacher()" *ngIf="isAdding">Cancelar</button>
      <button class="button is-danger is-fullwidth" (click)="isEditingTeacher()" *ngIf="isEditing">Cancelar</button>
    </form>
    <!-- TERMINA FORMULARIO -->
  </div>
  <table class="table is-fullwidth">
    <thead>
      <th>Profesor</th>
      <th>Matrícula</th>
      <th>Opciones</th>
    </thead>
    <tbody>
      <tr *ngFor="let p of profesores">
        <td>{{p.nombre}}</td>
        <td>{{p.matricula}}</td>
        <td>
          <button class="button is-primary" (click)="onEditar(p)">
            <span>Editar</span>
            <span><i class="fas fa-edit ml"></i></span>
          </button>
          <button class="button is-danger" (click)="eliminarProfesor(p.id)">
            Eliminar
            <span><i class="fas fa-trash ml"></i></span>
          </button>
        </td>
      </tr>

    </tbody>
  </table>
</div>