<div class="container">
  <h1 class="title is-1 has-text-centered">{{ tarea.nombre }}</h1>
  <a
    class="button is-secondary"
    style="float: right; margin: 10px;"
    (click)="backClicked()"
  >
    <span>
      <i class="fa fa-chevron-circle-left mr" aria-hidden="true"></i>
    </span>
    Volver
  </a>
  <h2 class="title is-3">Instrucciones:</h2>
  <p>{{ tarea.instrucciones }}</p>
  <h2 class="title is-3" style="margin-top: 10px;">Fecha de entrega:</h2>
  <!-- <p *ngIf="tarea.fechaEntrega">{{ tarea.fechaEntrega | date }}</p> -->
  <h2 class="title is-3" style="margin-top: 10px;">Material de apoyo:</h2>
  <a  [href]="safeUrl(tarea.archivo)" class="link">Abrir en otra ventana</a>
  <!-- <embed *ngIf= "tarea.archivo"
    [src]="safeUrl(tarea.archivo)"
    type="application/pdf"
    width="100%"
    height="600px"
    style="margin-top: 20px;"
  /> -->

  <!-- <div class="entregas">
    <h1 class="title is-1 has-text-centered">Entregas</h1>
    <div *ngIf="entregas.length < 1">
      <h1 class="title is-4 has-text-centered">
        No hay entregas por el momento
      </h1>
    </div>
    <div *ngFor="let e of entregas" class="entrega">
      <h2 class="title is-4">
        {{ e.alumno.nombre }}--{{ e.alumno.matricula }}
      </h2>
      <h2 class="title is-6">Comentarios:</h2>
      <p>{{ e.comentarios }}</p>
      <h2 class="title is-6" style="margin-top: 10px;">Grupo:</h2>
      <p>{{ e.alumno.grupo }}</p>
      <h2 class="title is-6" style="margin-top: 10px;">Calificaci√≥n:</h2>
      <p>{{ e.calificacion }}</p>
      <button
        class="button is-primary has-text-right"
        routerLink="/entrega/{{ e.id }}"
      >
        Calificar
      </button>
    </div>
  </div> -->

  <div>
      <h1 class="title is-2 has-text-centered">Entregar</h1>
      <div class="columns">
        <div class="column">
          <h1 class="title is-4">Entrega documento</h1>
          <p style="margin-bottom: 20px;">
            Sube el archivo de tu tarea, solo se permite uno
          </p>
          <app-file-upload
            [coleccion]="coleccion.nombre"
            [doc]="entrega.id"
          ></app-file-upload>
        </div>
        <div class="column" *ngIf="entrega.archivo">
          <embed
            [src]="safeUrl(entrega.archivo)"
            type="application/pdf"
            width="100%"
            height="600px"
          />
          <a [href]="safeUrl(entrega.archivo)">Archivo</a>
        </div>
      </div>

      <form [formGroup]="formTarea">
        

        <div class="field">
          <label class="label">Comentarios</label>
          <div class="control">
            <textarea
              class="textarea"
              placeholder="Comentarios"
              formControlName="comentarios"
            ></textarea>
          </div>
        </div>

    

        <div class="field is-grouped mt-5" style="float: right;">
          <div class="control">
            <button
              class="button is-secondary"
              [disabled]="!formTarea.valid"
              (click)="onSubmitTarea()"
            >
            <span>
              <i class="fa fa-check-square mr" aria-hidden="true"></i>
            </span>
            
              Entregar
            </button>
          </div>
        
        </div>
      </form>


     

  </div>
</div>
